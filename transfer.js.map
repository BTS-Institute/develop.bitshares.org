{"version":3,"file":"transfer.a48437b874cc83024cbd.js","sources":["webpack:///transfer.a48437b874cc83024cbd.js"],"sourcesContent":["(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1949:function(e,t,n){\"use strict\";var a=n(0),o=n.n(a),r=n(2),s=n.n(r),i=n(29),c=n(1952),l=n(11),u=n.n(l),p=n(4),h=n.n(p),m=n(140),f=n(14),d=n(1),g=n.n(d),b=n(274),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function v(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function y(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function k(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){function t(){return v(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,o.a.Component),_(t,[{key:\"shouldComponentUpdate\",value:function(e){return!f.a.are_equal_shallow(e.assets,this.props.assets)||e.value!==this.props.value||e.scroll_length!==this.props.scroll_length}},{key:\"render\",value:function(){return this.props.assets.length?o.a.createElement(c.a,{entries:this.props.assets.map(function(e){return e&&e.get(\"symbol\")}).filter(function(e){return!!e}),values:this.props.assets.reduce(function(e,t){return t&&t.get(\"symbol\")&&(e[t.get(\"symbol\")]=t),e},{}),singleEntry:this.props.assets[0]?o.a.createElement(i.a,{asset:this.props.assets[0].get(\"id\"),amount:0,hide_amount:!0}):null,value:this.props.value,onChange:this.props.onChange,scroll_length:this.props.scroll_length}):null}}]),t}();E.propTypes={value:g.a.string,onChange:g.a.func,scroll_length:g.a.number},E=Object(m.a)(E,{asList:!0});var C=function(e){function t(){return v(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,b[\"a\"]),_(t,[{key:\"componentDidMount\",value:function(){this.onAssetChange(this.props.asset)}},{key:\"formatAmount\",value:function(e){return e||(e=\"\"),\"number\"==typeof e&&(e=e.toString()),e.trim().replace(/,/g,\"\")}},{key:\"_onChange\",value:function(e){this.props.onChange&&this.props.onChange({amount:this.getNumericEventValue(e),asset:this.props.asset})}},{key:\"onAssetChange\",value:function(e){this.props.onChange&&this.props.onChange({amount:this.props.amount,asset:e})}},{key:\"render\",value:function(){var e=this.props.error?h.a.translate(this.props.error):this.formatAmount(this.props.amount);return o.a.createElement(\"div\",{className:\"amount-selector\",style:this.props.style},o.a.createElement(\"label\",{className:\"right-label\"},this.props.display_balance),o.a.createElement(s.a,{className:\"left-label\",component:\"label\",content:this.props.label}),o.a.createElement(\"div\",{className:\"inline-label input-wrapper\"},o.a.createElement(\"input\",{disabled:this.props.disabled,type:\"text\",value:e||\"\",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex,onPaste:this.props.onPaste||this.onPaste.bind(this),onKeyPress:this.onKeyPress.bind(this)}),o.a.createElement(\"div\",{className:\"form-label select floating-dropdown\"},this.props.isPrice?o.a.createElement(\"div\",{className:\"dropdown-wrapper inactive\"},o.a.createElement(\"div\",null,this.props.asset.get(\"symbol\"),\"/\",this.props.base)):o.a.createElement(E,{ref:this.props.refCallback,value:this.props.asset.get(\"symbol\"),assets:u.a.List(this.props.assets),onChange:this.onAssetChange.bind(this),scroll_length:this.props.scroll_length}))))}}]),t}();C.propTypes={label:g.a.string,assets:g.a.array,amount:g.a.any,placeholder:g.a.string,onChange:g.a.func,tabIndex:g.a.number,error:g.a.string,scroll_length:g.a.number},C.defaultProps={disabled:!1,tabIndex:0},C=Object(m.a)(C),t.a=C},1952:function(e,t,n){\"use strict\";var a=n(0),o=n.n(a),r=n(14),s=n(1),i=n.n(s),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);e.scroll_length;var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={active:!1},n.listener=!1,n.onBodyClick=n.onBodyClick.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),c(t,[{key:\"componentDidMount\",value:function(){this._setListener()}},{key:\"shouldComponentUpdate\",value:function(e,t){return!r.a.are_equal_shallow(e.entries,this.props.entries)||!r.a.are_equal_shallow(t,this.state)||e.value!==this.props.value}},{key:\"_setListener\",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).entries.length>1&&!this.listener&&(this.listener=!0,document.body.addEventListener(\"click\",this.onBodyClick,{capture:!1,passive:!0}))}},{key:\"_removeListener\",value:function(){document.body.removeEventListener(\"click\",this.onBodyClick),this.listener=!1}},{key:\"componentWillReceiveProps\",value:function(e){1===e.entries.length?this._removeListener():e.entries.length>1&&this._setListener(e)}},{key:\"componentWillUnmount\",value:function(){this._removeListener()}},{key:\"onBodyClick\",value:function(e){var t=e.target,n=!1;do{if(t.classList&&t.classList.contains(\"dropdown\")&&t.id===this.props.id){n=!0;break}}while(t=t.parentNode);n?e.stopPropagation():this.setState({active:!1})}},{key:\"onChange\",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.props.onChange(e),this.setState({active:!1})}},{key:\"_toggleDropdown\",value:function(){this.setState({active:!this.state.active})}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.entries,a=t.value,r=this.state.active;if(0===n.length)return null;if(1==n.length)return o.a.createElement(\"div\",{className:\"dropdown-wrapper inactive\"+(this.props.upperCase?\" upper-case\":\"\")},o.a.createElement(\"div\",null,this.props.singleEntry?this.props.singleEntry:n[0]));var s=n.map(function(t){return o.a.createElement(\"li\",{className:e.props.upperCase?\"upper-case\":\"\",key:t,onClick:e.onChange.bind(e,e.props.values[t])},o.a.createElement(\"span\",null,t))});return o.a.createElement(\"div\",{onClick:this._toggleDropdown.bind(this),className:\"dropdown-wrapper\"+(r?\" active\":\"\")+(this.props.upperCase?\" upper-case\":\"\")},o.a.createElement(\"div\",{style:{paddingRight:15}},a||o.a.createElement(\"span\",{className:\"hidden\"},\"A\")),o.a.createElement(\"ul\",{className:\"dropdown\",style:{overflow:n.length>this.props.scroll_length?\"auto\":\"hidden\"}},s))}}]),t}();l.propTypes={scroll_length:i.a.number},l.defaultProps={scroll_length:9},t.a=l},2096:function(e,t,n){\"use strict\";const a=n(2097),o=n(2098);function r(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}function s(e,t){return t.decode?o(e):e}function i(e){const t=e.indexOf(\"?\");return-1===t?\"\":e.slice(t+1)}function c(e,t){const n=function(e){let t;switch(e.arrayFormat){case\"index\":return(e,n,a)=>{t=/\\[(\\d*)\\]$/.exec(e),e=e.replace(/\\[\\d*\\]$/,\"\"),t?(void 0===a[e]&&(a[e]={}),a[e][t[1]]=n):a[e]=n};case\"bracket\":return(e,n,a)=>{t=/(\\[\\])$/.exec(e),e=e.replace(/\\[\\]$/,\"\"),t?void 0!==a[e]?a[e]=[].concat(a[e],n):a[e]=[n]:a[e]=n};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=Object.assign({decode:!0,arrayFormat:\"none\"},t)),a=Object.create(null);if(\"string\"!=typeof e)return a;if(!(e=e.trim().replace(/^[?#&]/,\"\")))return a;for(const o of e.split(\"&\")){let[e,r]=o.replace(/\\+/g,\" \").split(\"=\");r=void 0===r?null:s(r,t),n(s(e,t),r,a)}return Object.keys(a).sort().reduce((e,t)=>{const n=a[t];return Boolean(n)&&\"object\"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():\"object\"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}t.extract=i,t.parse=c,t.stringify=((e,t)=>{!1===(t=Object.assign({encode:!0,strict:!0,arrayFormat:\"none\"},t)).sort&&(t.sort=(()=>{}));const n=function(e){switch(e.arrayFormat){case\"index\":return(t,n,a)=>null===n?[r(t,e),\"[\",a,\"]\"].join(\"\"):[r(t,e),\"[\",r(a,e),\"]=\",r(n,e)].join(\"\");case\"bracket\":return(t,n)=>null===n?[r(t,e),\"[]\"].join(\"\"):[r(t,e),\"[]=\",r(n,e)].join(\"\");default:return(t,n)=>null===n?r(t,e):[r(t,e),\"=\",r(n,e)].join(\"\")}}(t);return e?Object.keys(e).sort(t.sort).map(a=>{const o=e[a];if(void 0===o)return\"\";if(null===o)return r(a,t);if(Array.isArray(o)){const e=[];for(const t of o.slice())void 0!==t&&e.push(n(a,t,e.length));return e.join(\"&\")}return r(a,t)+\"=\"+r(o,t)}).filter(e=>e.length>0).join(\"&\"):\"\"}),t.parseUrl=((e,t)=>({url:e.split(\"?\")[0]||\"\",query:c(i(e),t)}))},2097:function(e,t,n){\"use strict\";e.exports=(e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},2098:function(e,t,n){\"use strict\";var a=new RegExp(\"%[a-f0-9]{2}\",\"gi\"),o=new RegExp(\"(%[a-f0-9]{2})+\",\"gi\");function r(e,t){try{return decodeURIComponent(e.join(\"\"))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),a=e.slice(t);return Array.prototype.concat.call([],r(n),r(a))}function s(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(a),n=1;n<t.length;n++)t=(e=r(t,n).join(\"\")).match(a);return e}}e.exports=function(e){if(\"string\"!=typeof e)throw new TypeError(\"Expected `encodedURI` to be of type `string`, got `\"+typeof e+\"`\");try{return e=e.replace(/\\+/g,\" \"),decodeURIComponent(e)}catch(t){return function(e){for(var t={\"%FE%FF\":\"��\",\"%FF%FE\":\"��\"},n=o.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var a=s(n[0]);a!==n[0]&&(t[n[0]]=a)}n=o.exec(e)}t[\"%C2\"]=\"�\";for(var r=Object.keys(t),i=0;i<r.length;i++){var c=r[i];e=e.replace(new RegExp(c,\"g\"),t[c])}return e}(e)}}},2219:function(e,t,n){\"use strict\";n.r(t),function(e){var a=n(577),o=n(331),r=n(0),s=n.n(r),i=n(362),c=n(39),l=n(2),u=n.n(l),p=n(190),h=n(273),m=n(25),f=n(1949),d=n(14),g=n(4),b=n.n(g),_=n(76),v=n(19),y=n(854),k=n(11),E=n.n(k),C=n(5),A=n(31),w=n(153),S=n(3),j=n.n(S),O=n(37),x=n(2096),N=n.n(x),I=n(591),P=n(6),F=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var T=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e)),a=n.getInitialState(),r=N.a.parse(e.location.search)||{};r.from&&(a.from_name=r.from,C.ChainStore.getAccount(r.from)),r.to&&(a.to_name=r.to,C.ChainStore.getAccount(r.to)),r.amount&&(a.amount=r.amount),r.asset&&(a.asset_id=r.asset,a.asset=C.ChainStore.getAsset(r.asset)),r.memo&&(a.memo=r.memo);var s=m.a.getState().currentAccount;return a.from_name||(a.from_name=s),t.state=a,t.onTrxIncluded=t.onTrxIncluded.bind(t),t._updateFee=Object(o.a)(t._updateFee.bind(t),250),t._checkFeeStatus=t._checkFeeStatus.bind(t),t._checkBalance=t._checkBalance.bind(t),t}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.a.Component),F(n,[{key:\"componentWillMount\",value:function(){this.nestedRef=null,this._updateFee(),this._checkFeeStatus()}},{key:\"shouldComponentUpdate\",value:function(e,t){var n=this._getAvailableAssets().asset_types,a=this._getAvailableAssets(t).asset_types;if(1===a.length){var o=C.ChainStore.getAsset(a[0]);1!==n.length&&this.onAmountChanged({amount:t.amount,asset:o}),a[0]!==this.state.fee_asset_id&&o&&this.state.fee_asset_id!==a[0]&&this.setState({feeAsset:o,fee_asset_id:a[0]})}return!0}},{key:\"componentWillReceiveProps\",value:function(e){var t=this;e.currentAccount!==this.state.from_name&&e.currentAccount!==this.props.currentAccount&&this.setState({from_name:e.currentAccount,from_account:C.ChainStore.getAccount(e.currentAccount),feeStatus:{},fee_asset_id:\"1.3.0\",feeAmount:new O.a({amount:0})},function(){t._updateFee(),t._checkFeeStatus(C.ChainStore.getAccount(e.currentAccount))})}},{key:\"_checkBalance\",value:function(){var e=this.state,t=e.feeAmount,n=e.amount,a=e.from_account,o=e.asset;if(o&&a){var r=a.getIn([\"balances\",o.get(\"id\")]),s=a.getIn([\"balances\",t.asset_id]);if(o&&a){if(!r)return this.setState({balanceError:!0});var i=C.ChainStore.getObject(r),c=s?C.ChainStore.getObject(s):null;if(c&&0!==c.get(\"balance\")||this.setState({fee_asset_id:\"1.3.0\"},this._updateFee),i&&t){var l=Object(w.a)(n,o,t,i);null!==l&&this.setState({balanceError:!l})}}}}},{key:\"_checkFeeStatus\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.from_account;if(t&&t.get(\"balances\")){var n=Object.keys(t.get(\"balances\").toJS()).sort(d.a.sortID),a={},o=[];n.forEach(function(n){o.push(Object(w.b)({accountID:t.get(\"id\"),feeID:n,options:[\"price_per_kbyte\"],data:{type:\"memo\",content:e.state.memo}}))}),Promise.all(o).then(function(t){n.forEach(function(e,n){a[e]=t[n]}),d.a.are_equal_shallow(e.state.feeStatus,a)||e.setState({feeStatus:a}),e._checkBalance()}).catch(function(e){console.error(e)})}}},{key:\"_updateFee\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,n=t.fee_asset_id,a=t.from_account,o=t.asset_id,r=this._getAvailableAssets(t).fee_asset_types;if(1===r.length&&r[0]!==n&&(n=r[0]),!a)return null;Object(w.b)({accountID:a.get(\"id\"),feeID:n,options:[\"price_per_kbyte\"],data:{type:\"memo\",content:t.memo}}).then(function(t){var n=t.fee,r=t.hasBalance,s=t.hasPoolBalance;return Object(w.e)(a,n).then(function(t){return t?e.setState({fee_asset_id:o},e._updateFee):e.setState({feeAmount:n,fee_asset_id:n.asset_id,hasBalance:r,hasPoolBalance:s,error:!r||!s})})})}},{key:\"fromChanged\",value:function(e){e||this.setState({from_account:null}),this.setState({from_name:e,error:null,propose:!1,propose_account:\"\"})}},{key:\"toChanged\",value:function(e){this.setState({to_name:e,error:null})}},{key:\"onFromAccountChanged\",value:function(e){var t=this;this.setState({from_account:e,error:null},function(){t._updateFee(),t._checkFeeStatus()})}},{key:\"onToAccountChanged\",value:function(e){this.setState({to_account:e,error:null})}},{key:\"onAmountChanged\",value:function(e){var t=e.amount,n=e.asset;n&&this.setState({amount:t,asset:n,asset_id:n.get(\"id\"),error:null},this._checkBalance)}},{key:\"onFeeChanged\",value:function(e){var t=e.asset;this.setState({feeAsset:t,fee_asset_id:t.get(\"id\"),error:null},this._updateFee)}},{key:\"onMemoChanged\",value:function(e){this.setState({memo:e.target.value},this._updateFee)}},{key:\"onTrxIncluded\",value:function(e){e.included&&e.broadcasted_transaction?(_.a.unlisten(this.onTrxIncluded),_.a.reset()):e.closed&&(_.a.unlisten(this.onTrxIncluded),_.a.reset())}},{key:\"onPropose\",value:function(e,t){t.preventDefault(),this.setState({propose:e,propose_account:null})}},{key:\"onProposeAccount\",value:function(e){this.setState({propose_account:e})}},{key:\"resetForm\",value:function(){this.setState({memo:\"\",to_name:\"\",amount:\"\"})}},{key:\"onSubmit\",value:function(t){var n=this;t.preventDefault(),this.setState({error:null});var a=this.state,o=a.asset,r=a.amount,s=new O.a({real:r,asset_id:o.get(\"id\"),precision:o.get(\"precision\")});c.a.transfer(this.state.from_account.get(\"id\"),this.state.to_account.get(\"id\"),s.getAmount(),o.get(\"id\"),this.state.memo?new e(this.state.memo,\"utf-8\"):this.state.memo,this.state.propose?this.state.propose_account:null,this.state.feeAsset?this.state.feeAsset.get(\"id\"):\"1.3.0\").then(function(){n.resetForm.call(n),_.a.unlisten(n.onTrxIncluded),_.a.listen(n.onTrxIncluded)}).catch(function(e){var t=e.message?e.message.split(\"\\n\")[1]||e.message:null;console.log(\"error: \",e,t),n.setState({error:t})})}},{key:\"setNestedRef\",value:function(e){this.nestedRef=e}},{key:\"_setTotal\",value:function(e,t){var n=this.state.feeAmount,a=C.ChainStore.getObject(t),o=C.ChainStore.getObject(e),r=new O.a({amount:a.get(\"balance\"),asset_id:o.get(\"id\"),precision:o.get(\"precision\")});a&&(n.asset_id===r.asset_id&&r.minus(n),this.setState({amount:r.getAmount({real:!0})},this._checkBalance))}},{key:\"_getAvailableAssets\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,t=this.state.feeStatus;var n=e.from_account,a=e.from_error,o=[],r=[];if(!n||!n.get(\"balances\")||a)return{asset_types:o,fee_asset_types:r};var s=e.from_account.get(\"balances\").toJS();for(var i in o=Object.keys(s).sort(d.a.sortID),r=Object.keys(s).sort(d.a.sortID),s){var c=C.ChainStore.getObject(s[i]);c&&0===c.get(\"balance\")&&(o.splice(o.indexOf(i),1),-1!==r.indexOf(i)&&r.splice(r.indexOf(i),1))}return{asset_types:o,fee_asset_types:r=r.filter(function(e){return function(e){return void 0===t[e]||t[e]&&t[e].hasPoolBalance}(e)&&function(e){return void 0===t[e]||t[e]&&t[e].hasBalance}(e)})}}},{key:\"render\",value:function(){var e=this,t=null,n=this.state,o=n.propose,r=n.from_account,c=n.to_account,l=n.asset,d=n.asset_id,g=n.propose_account,_=n.feeAmount,k=n.amount,A=n.error,w=n.to_name,S=n.from_name,O=n.memo,x=n.feeAsset,N=n.fee_asset_id,F=n.balanceError,T=m.a.isMyAccount(r)||S===this.props.passwordAccount;!r||T||o||(t=s.a.createElement(\"span\",null,b.a.translate(\"account.errors.not_yours\"),\" (\",s.a.createElement(\"a\",{onClick:this.onPropose.bind(this,!0)},b.a.translate(\"propose\")),\")\"));var B=this._getAvailableAssets(),R=B.asset_types,D=B.fee_asset_types,L=null,U=this.state.feeAmount.getAmount({real:!0});if(r&&r.get(\"balances\")&&!t){var M=r.get(\"balances\").toJS();if(1===R.length&&(l=C.ChainStore.getAsset(R[0])),R.length>0){var q=l?l.get(\"id\"):R[0],J=x?x.get(\"id\"):\"1.3.0\";L=s.a.createElement(\"span\",{style:{borderBottom:\"#A09F9F 1px dotted\",cursor:\"pointer\"},onClick:this._setTotal.bind(this,q,M[q],U,J)},s.a.createElement(u.a,{component:\"span\",content:\"transfer.available\"}),\":\",\" \",s.a.createElement(i.a,{balance:M[q]}))}else L=\"No funds\"}var $=o&&!g,z=parseFloat(String.prototype.replace.call(k,/,/g,\"\")),W=z&&!Object(a.a)(z),V=c&&c.get(\"name\")===w,K=!r||!V||!W||!l||t||$||F,H=E.a.Set();H=H.add(r);var G=1;return s.a.createElement(\"div\",{className:\"grid-block vertical\"},s.a.createElement(\"div\",{className:\"grid-block shrink vertical medium-horizontal\",style:{paddingTop:\"2rem\"}},s.a.createElement(\"div\",{className:\"grid-content small-12 medium-12 large-10 large-offset-1 full-width-content\"},s.a.createElement(I.a,{id:\"send_modal_header\",refCallback:function(t){t&&(e.send_modal=t)},from_name:this.props.currentAccount}),s.a.createElement(v.a,{string:\"transfer.phase_out_warning\",keys:[{arg:\"modal_link\",value:s.a.createElement(\"a\",{onClick:function(){e.send_modal&&e.send_modal.show()}},s.a.createElement(u.a,{content:\"header.payments\"}))}]}))),s.a.createElement(\"div\",{className:\"grid-block shrink vertical medium-horizontal\",style:{paddingTop:\"1rem\"}},s.a.createElement(\"form\",{style:{paddingBottom:20,overflow:\"visible\"},className:\"grid-content small-12 medium-6 large-5 large-offset-1 full-width-content\",onSubmit:this.onSubmit.bind(this),noValidate:!0},s.a.createElement(u.a,{content:\"transfer.header\",component:\"h2\"}),s.a.createElement(\"div\",{className:\"content-block\"},s.a.createElement(h.a,{label:\"transfer.from\",ref:\"from\",accountName:S,onChange:this.fromChanged.bind(this),onAccountChanged:this.onFromAccountChanged.bind(this),account:r,size:60,error:t,typeahead:!0,tabIndex:G++})),s.a.createElement(\"div\",{className:\"content-block\"},s.a.createElement(h.a,{label:\"transfer.to\",ref:\"to\",accountName:w,onChange:this.toChanged.bind(this),onAccountChanged:this.onToAccountChanged.bind(this),account:c,size:60,tabIndex:G++,typeahead:!0})),s.a.createElement(\"div\",{className:\"content-block transfer-input\"},s.a.createElement(f.a,{label:\"transfer.amount\",amount:k,onChange:this.onAmountChanged.bind(this),asset:R.length>0&&l?l.get(\"id\"):d||R[0],assets:R,display_balance:L,tabIndex:G++}),this.state.balanceError?s.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},s.a.createElement(u.a,{content:\"transfer.errors.insufficient\"})):null),s.a.createElement(\"div\",{className:\"content-block transfer-input\"},O&&O.length?s.a.createElement(\"label\",{className:\"right-label\"},O.length):null,s.a.createElement(P.Tooltip,{placement:\"top\",title:b.a.translate(\"tooltip.memo_tip\")},s.a.createElement(u.a,{className:\"left-label tooltip\",component:\"label\",content:\"transfer.memo\",\"data-place\":\"top\"})),s.a.createElement(\"textarea\",{style:{marginBottom:0},rows:\"3\",value:O,tabIndex:G++,onChange:this.onMemoChanged.bind(this)}),this.state.propose?s.a.createElement(\"div\",{className:\"error-area\",style:{position:\"absolute\"}},s.a.createElement(u.a,{content:\"transfer.warn_name_unable_read_memo\",name:this.state.from_name})):null),s.a.createElement(\"div\",{className:\"content-block transfer-input fee-row\"+(this.state.propose?\" proposal\":\"\")},s.a.createElement(f.a,{refCallback:this.setNestedRef.bind(this),label:\"transfer.fee\",disabled:!0,amount:U,onChange:this.onFeeChanged.bind(this),asset:D.length&&_?_.asset_id:1===D.length?D[0]:N||D[0],assets:D,tabIndex:G++,error:!1===this.state.hasPoolBalance?\"transfer.errors.insufficient\":null}),o?s.a.createElement(\"button\",{className:j()(\"button float-right no-margin\",{disabled:K}),type:\"submit\",value:\"Submit\",tabIndex:G++},s.a.createElement(u.a,{component:\"span\",content:\"propose\"})):s.a.createElement(\"button\",{className:j()(\"button float-right no-margin\",{disabled:K}),type:\"submit\",value:\"Submit\",tabIndex:G++},s.a.createElement(u.a,{component:\"span\",content:\"transfer.send\"}))),o?s.a.createElement(\"div\",{className:\"full-width-content form-group transfer-input\"},s.a.createElement(\"label\",{className:\"left-label\"},s.a.createElement(u.a,{content:\"account.propose_from\"})),s.a.createElement(p.a,{account_names:m.a.getMyAccounts(),onChange:this.onProposeAccount.bind(this),tabIndex:G++})):null,A?s.a.createElement(\"div\",{className:\"content-block has-error\"},A):null,s.a.createElement(\"div\",null,o?s.a.createElement(\"span\",null,s.a.createElement(\"button\",{className:\" button\",onClick:this.onPropose.bind(this,!1),tabIndex:G++},s.a.createElement(u.a,{component:\"span\",content:\"cancel\"}))):null)),s.a.createElement(\"div\",{className:\"grid-content small-12 medium-6 large-4 large-offset-1 right-column\"},s.a.createElement(\"div\",{className:\"grid-content no-padding\"},s.a.createElement(y.a,{accountsList:H,limit:25,compactView:!0,filter:\"transfer\",fullHeight:!0}))),s.a.createElement(\"div\",{className:\"grid-content medium-6 large-4\"})))}}],[{key:\"getInitialState\",value:function(){return{from_name:\"\",to_name:\"\",from_account:null,to_account:null,amount:\"\",asset_id:null,asset:null,memo:\"\",error:null,propose:!1,propose_account:\"\",feeAsset:null,fee_asset_id:\"1.3.0\",feeAmount:new O.a({amount:0}),feeStatus:{}}}}]),n}();t.default=Object(A.a)(T,{listenTo:function(){return[m.a]},getProps:function(){return{currentAccount:m.a.getState().currentAccount,passwordAccount:m.a.getState().passwordAccount,contactsList:m.a.getState().accountContacts}}})}.call(this,n(126).Buffer)}}]);"],"mappings":"AAAA","sourceRoot":""}